{"version":3,"file":"js/439.13c545dd.js","mappings":"6WAyBA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,EAAWF,EAAMG,OAAOD,SAGxBE,EAAWF,EAAWA,EAASG,QAAQ,mBAAoB,IAAM,KAEjEC,EAAQF,EAAW,cAAcA,IAAa,iBAEpDG,EAAAA,EAAAA,GAAQ,CACND,MAAOA,IAKT,MAAME,GAAUC,EAAAA,EAAAA,KAAS,IAChBL,EAAW,cAAcA,IAAa,O,OAG/CM,EAAAA,EAAAA,KAAU,KACR,GAAIF,EAAQG,MAAO,CACjB,MAAMC,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAOP,EAAQG,MACpBC,EAAKI,aAAa,WAAYZ,GAC9BS,SAASI,KAAKC,YAAYN,GAC1BA,EAAKO,QACLN,SAASI,KAAKG,YAAYR,EAC5B,K,8mBC7CF,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://rakeshkanna-rk.github.io/./src/pages/DownloadFile.vue","webpack://rakeshkanna-rk.github.io/./src/pages/DownloadFile.vue?8dfb"],"sourcesContent":["<template>\r\n  <!-- Background Image -->\r\n  <img\r\n    src=\"@/assets/bg/bluelight-bg.avif\"\r\n    class=\"bg-img\"\r\n    alt=\"background image\"\r\n    loading=\"lazy\"\r\n  />\r\n\r\n  <div class=\"download-wrapper\">\r\n    <h2>Preparing your download...</h2>\r\n    <p v-if=\"fileUrl\">\r\n      If your download hasn't started,\r\n      <a :href=\"fileUrl\" download>click here</a>.\r\n    </p>\r\n    <p v-else>Invalid file name.</p>\r\n    <router-link to=\"/\" class=\"home-link\">Go Back Home</router-link>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRoute } from \"vue-router\";\r\nimport { onMounted, computed } from \"vue\";\r\nimport { useHead } from \"@vueuse/head\"\r\n\r\nconst route = useRoute();\r\nconst fileName = route.params.fileName;\r\n\r\n// ✅ Extract safeName to reuse it in both places\r\nconst safeName = fileName ? fileName.replace(/[^a-zA-Z0-9_.-]/g, \"\") : null;\r\n\r\nconst title = safeName ? `Download | ${safeName}` : \"Download File\";\r\n\r\nuseHead({\r\n  title: title,\r\n})\r\n\r\n\r\n// ✅ Now computed uses it\r\nconst fileUrl = computed(() => {\r\n  return safeName ? `/downloads/${safeName}` : null;\r\n});\r\n\r\nonMounted(() => {\r\n  if (fileUrl.value) {\r\n    const link = document.createElement(\"a\");\r\n    link.href = fileUrl.value;\r\n    link.setAttribute(\"download\", safeName); // ✅ This now works\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.download-wrapper {\r\n  min-height: 50vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: var(--primary-font, sans-serif);\r\n  color: var(--white-color, #fff);\r\n  text-align: center;\r\n  padding: 20px;\r\n}\r\na {\r\n  color: #00bfff;\r\n  text-decoration: underline;\r\n}\r\n</style>\r\n","import script from \"./DownloadFile.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DownloadFile.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DownloadFile.vue?vue&type=style&index=0&id=0d60cd4d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0d60cd4d\"]])\n\nexport default __exports__"],"names":["route","useRoute","fileName","params","safeName","replace","title","useHead","fileUrl","computed","onMounted","value","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","__exports__"],"sourceRoot":""}